<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width initial-scale=1" />

  <title>Tea Data!</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Rock+Salt&family=Rubik+Dirt&family=Sansita:ital,wght@0,400;0,700;0,800;0,900;1,400;1,700;1,800;1,900&family=Tapestry&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Sansita:ital,wght@0,400;0,700;0,800;0,900;1,400;1,700;1,800;1,900&family=Tapestry&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Sansita:ital,wght@0,400;0,700;0,800;0,900;1,400;1,700;1,800;1,900&family=Tapestry&display=swap"
    rel="stylesheet">
  <link rel="icon" href="./assets/icon.png">

  <!--  DOMPurify cleans up HTML to prevent XSS attacks
  https://www.jsdelivr.com/package/npm/dompurify  -->
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.3.0/dist/purify.min.js"></script>

</head>

<body>

  <header id="header">

    <div id="titleSection">

      <h1>Tea Collection</h1>
      <section id="status">
        <img id="readyStatus" src="./assets/cloud_safe.svg">
        <!-- <p id="readyStatus">✅ MongoDB is Ready</p> -->
        <img id="notReadyStatus" src="./assets/cloud_alert.svg">
        <!-- <p id="notReadyStatus">❌ MongoDB is not connected. Please check your connection string in <code>.env</code> file.</p> -->
      </section>
    </div>
    <div id="buttonSection">
      <button id="createButton" popovertarget="formPopover">add new tea</button>
    </div>
  </header>

  <nav id="tabs">
    <button id="allTab" class="tab-button active" data-filter="all">All Teas</button>
    <button id="favoritesTab" class="tab-button" data-filter="favorites">Favorites</button>
  </nav>



  <div id="formPopover" popover>
    <div id="form-header">
      <h2>Add a Tea</h2>
    </div>
    <form id="myForm">
      <!-- Hidden field to store ID for updates -->
      <input type="hidden" name="id" id="id" />
      <fieldset id="form-name">
        <label for="name">Tea Name</label>
        <input required type="text" name="name" id="name" class="field" placeholder="e.g. Sencha" autocomplete="off" />
        <!-- <small class="validation">Name is required</small> -->
      </fieldset>

      <fieldset id="form-type">
        <label for="type">Tea Type</label>
        <select name="type" id="type" class="field" required>
          <option value="" disabled selected>Select a type</option>
          <option value="Green Tea">Green</option>
          <option value="Black Tea">Black</option>
          <option value="Oolong Tea">Oolong</option>
          <option value="White Tea">White</option>
          <option value="Yellow Tea">Yellow</option>
          <option value="Pu-erh Tea">Pu-erh</option>
          <option value="Herbal Tea">Herbal</option>
          <option value="Rooibos Tea">Rooibos</option>
          <option value="Other">Other</option>
        </select>
      </fieldset>

      <fieldset id="form-company">
        <label for="company">Company / Brand</label>
        <input type="text" name="company" id="company" class="field" placeholder="e.g. Maeda-en" />
      </fieldset>

      <fieldset id="form-teaLink">
        <label for="teaLink">Tea Link</label>
        <input type="url" name="teaLink" id="teaLink" class="field" placeholder="e.g. https://maeda-en.com/collections/loose-leaf/products/sen-cha-1" />
      </fieldset>

      <fieldset id="form-primary">
        <label for="primaryColor">Tea Color</label>
        <input type="color" name="primaryColor" id="primaryColor" class="field" value="#5f5854" />
      </fieldset>

      <fieldset id="form-secondary">
        <label for="secondaryColor">Secondary Color</label>
        <input type="color" name="secondaryColor" id="secondaryColor" class="field" value="#c4c8cf" />
      </fieldset>

      <fieldset id="form-date">
        <label for="dateConsumed">Date Consumed</label>
        <input type="date" name="dateConsumed" id="dateConsumed" class="field" />
      </fieldset>

      <fieldset id="form-style">
        <label for="style">Style</label>
        <select name="style" id="style" class="field" required>
          <option value="" disabled selected>Select a style</option>
          <option value="LOOSE_LEAF">Loose Leaf</option>
          <option value="BAGGED">Bagged</option>
          <option value="POWDER">Powder</option>
        </select>
      </fieldset>

      <fieldset id="form-rating">
        <label for="rating">Rate it!</label>
        <input type="range" name="rating" id="rating" class="field-rating" min="1" max="5" step="1" />
        <small>1 (low) — 5 (high)</small>
      </fieldset>

      <fieldset id="form-caffeine">
        <label for="caffeineLevel">Caffeine Level</label>
        <input type="range" name="caffeineLevel" id="caffeineLevel" class="field-rating" min="0" max="10" step="1" />
        <small>0 (decaf) — 10 (very strong)</small>
      </fieldset>

      <fieldset id="form-preferences">
        <label for="preferences">Details</label>
        <textarea name="preferences" id="preferences" class="field" rows="6" cols="30"
          placeholder='Consumer level sencha. '></textarea>
      </fieldset>

      <fieldset id="form-notes">
        <label for="notes">Notes</label>
        <textarea name="notes" id="notes" class="field" rows="6" cols="30"
          placeholder="Taste, enjoyment, aroma, experience, friends?"></textarea>
      </fieldset>
      
      <button class="save">Save</button>
      <button class="cancel" type="button" popovertarget="formPopover" popovertargetaction="hide">Cancel</button>
    </form>
  </div>

  <main>
    <section id="contentArea" style="overflow:scroll;overflow-y:hidden;padding-bottom:10px;"></section>
    <div id="bar"
      style="background: linear-gradient(to bottom, #2f2119, #855b4200);height:3rem;margin-left:2rem;margin-right:2rem;margin-bottom:0">
    </div>
    </div>
  </main>

  <footer>
    Created by Callan Yates following a CRUD activity template provided by Harold Sikkema in the context of
    Systems Design in the Interaction Design program at Sheridan College. Check out the code <a id="link"
      href="https://github.com/ca-LAN/digitea">here on github</a>.
  </footer>

  <script src="script.js" type="module">
  </script>

</body>

</html>